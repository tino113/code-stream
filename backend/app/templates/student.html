<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Student Playback</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 0; padding: 16px; }
      #timeline { margin-bottom: 16px; }
      #challenge-panel { display: none; border: 1px solid #ccc; padding: 12px; border-radius: 6px; background: #fafafa; }
      #challenge-panel.active { display: block; }
      .row { margin-bottom: 8px; }
      .controls button { margin-right: 8px; }
      #status { font-size: 0.9em; color: #444; }
    </style>
  </head>
  <body>
    <h1>Lesson Playback</h1>
    <div id="timeline" class="row">
      <button id="play-btn">Play</button>
      <span>Current Time: <strong id="time-display">0.0s</strong></span>
    </div>

    <div id="challenge-panel" aria-live="polite">
      <h2>Checkpoint Challenge</h2>
      <p id="challenge-prompt"></p>
      <div class="row"><strong>Expected concepts:</strong> <span id="challenge-tags"></span></div>
      <div class="row"><strong>Unlock condition:</strong> <span id="challenge-unlock"></span></div>
      <div class="controls">
        <button id="run-btn">Run</button>
        <button id="debug-btn">Debug</button>
        <button id="hint-btn">Use Hint</button>
        <button id="pass-btn">Mark Passed</button>
        <button id="unlock-btn">Unlock Playback</button>
      </div>
      <div id="status"></div>
    </div>

    <script>
      window.CHECKPOINTS = {{ checkpoints | tojson }};
      window.STUDENT_ID = "demo-student";
    </script>
    <script src="{{ url_for('static', filename='ide.js') }}"></script>
  </body>
</html>
