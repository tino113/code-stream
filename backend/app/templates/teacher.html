<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Teacher IDE</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs/loader.min.js"></script>
  </head>
  <body class="cs-bg dark-mode ide-layout">
    <header class="ide-topbar">
      <div class="d-flex align-items-center gap-3">
        <a class="brand" href="/"><i class="bi bi-code-square"></i> CodeStream</a>
        <span class="pill">Teacher Workspace</span>
      </div>
      <div class="d-flex align-items-center gap-2">
        <select class="form-select form-select-sm" id="theme-select" style="width:150px">
          <option value="dark" selected>Dark</option>
          <option value="light">Light</option>
          <option value="contrast">High Contrast</option>
        </select>
        <select class="form-select form-select-sm" id="font-size" style="width:100px">
          <option value="12">12px</option><option value="14" selected>14px</option><option value="16">16px</option><option value="18">18px</option>
        </select>
      </div>
    </header>

    <main class="ide-workspace">
      <aside class="activity-rail">
        <button class="active" title="Explorer"><i class="bi bi-files"></i></button>
        <button title="Timeline"><i class="bi bi-clock-history"></i></button>
        <button title="Render"><i class="bi bi-film"></i></button>
        <button title="Voice"><i class="bi bi-mic"></i></button>
      </aside>

      <aside class="ide-sidebar">
        <section class="panel-block">
          <h6>Explorer</h6>
          <div class="list-group list-group-flush" id="file-list">
            <button class="list-group-item list-group-item-action active file-btn" data-file="main.py"><i class="bi bi-filetype-py"></i> main.py</button>
            <button class="list-group-item list-group-item-action file-btn" data-file="helpers.py"><i class="bi bi-filetype-py"></i> helpers.py</button>
          </div>
        </section>

        <section class="panel-block">
          <h6>Change Focus</h6>
          <div class="d-grid gap-2">
            <button id="capture-baseline" class="btn btn-outline-secondary btn-sm">Capture Baseline</button>
            <button id="mode-highlight" class="btn btn-outline-warning btn-sm">Highlight Changes</button>
            <button id="mode-dim" class="btn btn-outline-info btn-sm">Dim Unchanged</button>
            <button id="toggle-whitespace" class="btn btn-outline-secondary btn-sm">Show/Hide Whitespace</button>
          </div>
        </section>

        <section class="panel-block">
          <h6>Recording</h6>
          <div class="d-grid gap-2">
            <button id="start-recording" class="btn btn-success btn-sm">Start</button>
            <button id="stop-recording" class="btn btn-secondary btn-sm">Stop</button>
            <button id="save-recording" class="btn btn-primary btn-sm">Save</button>
            <button id="suggest-annotations" class="btn btn-outline-primary btn-sm">AI Markers</button>
          </div>
        </section>
      </aside>

      <section class="ide-main">
        <div class="editor-tabs">
          <button class="tab active">main.py</button>
          <button class="tab">helpers.py</button>
          <span class="ms-auto"></span>
          <button id="run" class="btn btn-sm btn-primary"><i class="bi bi-play-fill"></i> Run</button>
        </div>

        <div id="editor" class="editor-surface"></div>

        <div class="inspector-grid">
          <section class="inspector-card">
            <div class="inspector-title"><i class="bi bi-highlighter"></i> Change Preview</div>
            <pre id="change-view">Capture a baseline, then edit code to visualize changes.</pre>
          </section>
          <section class="inspector-card">
            <div class="inspector-title"><i class="bi bi-clock-history"></i> Timeline</div>
            <div class="toolbar-inline">
              <button id="trim-pauses" class="btn btn-outline-secondary btn-sm">Trim Pauses</button>
              <button id="remove-selected" class="btn btn-outline-danger btn-sm">Remove</button>
              <button id="play-timeline" class="btn btn-outline-success btn-sm">Play</button>
              <select class="form-select form-select-sm" id="playback-speed" style="width:110px">
                <option value="0.5">0.5x</option><option value="1" selected>1x</option><option value="1.5">1.5x</option><option value="2">2x</option><option value="4">4x</option>
              </select>
            </div>
            <ul id="timeline" class="mb-0"></ul>
          </section>
        </div>

        <div class="inspector-grid mt-2">
          <section class="inspector-card">
            <div class="inspector-title"><i class="bi bi-chat-left-text"></i> Annotation</div>
            <div class="d-flex gap-2">
              <input id="annotation-text" class="form-control form-control-sm" placeholder="Checkpoint note" />
              <button id="add-annotation" class="btn btn-outline-light btn-sm">Add</button>
            </div>
          </section>
          <section class="inspector-card">
            <div class="inspector-title"><i class="bi bi-camera-reels"></i> Phase 3 Media</div>
            <textarea id="tts-text" class="form-control form-control-sm" rows="2" placeholder="Narration script...">In this section we refactor the greeting function and run tests.</textarea>
            <div class="toolbar-inline mt-2">
              <button id="generate-tts" class="btn btn-outline-light btn-sm">Generate TTS</button>
              <button id="auto-sync" class="btn btn-outline-light btn-sm">Auto Sync</button>
              <button id="render-video" class="btn btn-warning btn-sm">Render Video</button>
            </div>
          </section>
        </div>

        <div class="status-terminal"><pre id="output">Output will appear here.</pre></div>
      </section>
    </main>

    <footer class="ide-statusbar">
      <span><i class="bi bi-record-circle"></i> Python 3 Â· Teacher Session</span>
      <span>CodeStream IDE</span>
    </footer>

    <script src="/static/ide.js"></script>
  </body>
</html>
